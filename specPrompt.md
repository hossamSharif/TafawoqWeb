/spec 'app description

## Tafawoq - Saudi Aptitude Exam Preparation & Practice Platform

### App Overview
Tafawoq is a comprehensive React Native AI mobile application designed to help Arabic-speaking students prepare for Saudi aptitude exams (القدرات) through interactive full exams and customized practice sessions generated by ai . The app provides a structured learning experience with flexible subscription tiers, enabling access to exam preparation resources aligned with individual academic tracks (scientific or literary pathways), detailed performance analytics, and personalized progress tracking.

### Core Purpose
Enable students to effectively prepare for aptitude exams by providing:
- Flexible subscription-based access to full integrated exams and customized practice sessions
- Academic track-specific content (مسار علمي - Scientific / ادبي - Literary)
- Full integrated exams covering both verbal (لفظي) and quantitative (كمي) sections
- Customized practice sessions with category selection and difficulty levels
- Rich multimedia question support (text-only and text with images)
- Detailed performance evaluation with section-specific scores and comprehensive analytics
- Personalized learning insights based on exam and practice performance
- Real-time notifications for exam reminders and learning milestones
- Progress dashboard with historical performance trends and strength/weakness analysis
- Legal compliance through comprehensive terms, conditions, and privacy documentation

---

## SUBSCRIPTION PLANS & ACCESS CONTROL

### Subscription Tier System

#### Free Plan (الخطة المجانية)
**Access Level**: Limited exploratory access
- **Included Features**:
  - One (1) full integrated exam attempt per week
  - Customized practice sessions limited to 5 questions maximum
  - Access to previous practice result analytics (read-only)
  - Basic profile and progress tracking
  - Standard notification system
  - Full access to Terms of Service and Privacy Policy
- **Limitations**:
  - No detailed solving technique access
  - Limited category selection in practices (max 2 categories per session)
  - No custom question count configuration
  - Delayed result review (24-hour delay before technique explanations available)
  - Watermark on all result screenshots
- **Purpose**: Allow users to trial platform functionality and assess value before commitment

#### Monthly Paid Plan (الخطة الشهرية المدفوعة)
**Access Level**: Full unrestricted access
- **Included Features**:
  - Unlimited full integrated exam attempts
  - Unlimited customized practice sessions with full configuration options
  - Unlimited question count per practice (up to platform maximum of 100 questions)
  - Complete solving technique access with instant availability
  - Advanced performance analytics and trend analysis
  - Academic track-specific content optimization
  - Priority support and feature requests
  - Advanced notification customization and scheduling
  - Data export capabilities (exam history, performance reports)
- **Pricing Model**: Recurring monthly subscription with auto-renewal
- **Billing Cycle**: Monthly (calendar month basis)
- **Cancellation**: Anytime, effective end of current billing cycle
- **Trial Period**: First 3 days free trial access (full features) with credit card on file
- **Platform Integration**: Stripe integration for secure payment processing

### Subscription Status Indicators
- Display current subscription tier on profile page (header badge)
- Show subscription renewal date for paid users
- Display "Upgrade to Premium" prompts in free-tier feature restrictions
- Countdown for trial period remaining (if applicable)
- Quick-access upgrade button in settings page

---

## EXAM & PRACTICE QUESTION FORMATS

### Question Content Composition
All exam and practice questions support the following formats:

#### Format 1: Text-Only Questions
- **Structure**: Pure Arabic text question without visual elements
- **Use Cases**: Verbal comprehension, sentence completion, analogies, reading passages
- **Display**: Full-width text rendering with appropriate line-height for Arabic script
- **Reading Comprehension**: Dedicated text passages with multiple questions referencing single passage

#### Format 2: Text with Images (Multimedia Questions)
- **Structure**: Arabic text combined with visual reference materials
- **Image Types Supported**:
  - Geometric diagrams (for geometry section questions)
  - Mathematical illustrations (for equations and visual problem representations)
  - Contextual reference images (for contextual error identification)
  - Real-world scenario visualizations (for applied mathematics problems)
- **Image Specifications**:
  - Responsive sizing (scales appropriately on different device sizes)
  - High DPI support (ensures clarity on all screen densities)
  - Lazy loading for performance optimization
  - Tap-to-zoom functionality for detailed inspection
  - Captions and labels in Arabic where applicable
- **Layout**: Text above/beside image with intelligent responsive positioning
- **Accessibility**: Alt text for all images describing mathematical or technical content

### Question Presentation Rules
- **Question Number**: Clearly displayed with section indicator (e.g., "السؤال 12 - اللفظي")
- **Difficulty Badge**: Visual indicator (سهل, متوسط, صعب) for reference
- **Time Indicator**: Question-specific time recommendations (where applicable)
- **Image Quality**: Vetted for clarity; minimum 300px width on mobile
- **Loading States**: Skeleton screens during image loading with placeholder text

---

## REGISTRATION & ONBOARDING WORKFLOW

### Complete User Acquisition Funnel

#### Phase 1: Welcome & Legal Compliance
**Welcome Screen**
- App logo and brand introduction
- Brief value proposition statement
- Two primary actions: "Create Account" (إنشاء حساب) or "Sign In" (تسجيل الدخول)
- Secondary text: "By continuing, you agree to our Terms & Conditions" with embedded links

#### Phase 2: Account Creation (Sign Up)
**Account Registration Form**
- **Email Input**: Valid email address with verification requirement
- **Password Setup**: 
  - Minimum 8 characters with complexity validation (uppercase, lowercase, number, symbol)
  - Strength indicator visual feedback
  - Confirm password field with matching validation
- **Terms & Conditions Acknowledgment**:
  - Checkbox: "I agree to the Terms of Service" (required)
  - Checkbox: "I agree to the Privacy Policy" (required)
  - Embedded links to full legal documents
  - Clear visual indication of required fields
- **Email Verification**:
  - Automated verification email sent upon submission
  - 6-digit OTP verification code input
  - Resend option (60-second cooldown)
  - Email confirmation completion before proceeding

#### Phase 3: Profile Completion (Critical Path)


**Academic Track Selection (الفئة الأكاديمية)**
- **Radio Button Options**:
  - **Scientific Track** (المسار العلمي): 
    - Content optimized for quantitative emphasis
    - Geometry and advanced mathematics focus
    - Target audience: STEM-focused students
  - **Literary Track** (المسار الأدبي):
    - Content optimized for verbal emphasis
    - Language comprehension and reading focus
    - Target audience: Humanities-focused students
- **Selection Impact**: 
  - Determines default category recommendations in practice
  - Influences personalized content ordering
  - Adjusts difficulty scaling based on track strengths
  - Customizes practice suggestions and improvement paths
- **Later Modification**: Users can change academic track in settings (triggers content re-recommendation)

**Subscription Tier Selection**
- **Display Two Options**:
  - Free Plan card with feature list and "Get Started Free" button
  - Premium Monthly card with feature comparison and "Start Free Trial" button
- **Recommendation**: System can recommend tier based on usage patterns
- **Selection Outcome**: 
  - Free Plan → Direct dashboard access
  - Premium → Stripe payment form (7-day trial initiated)

#### Phase 4: Payment Processing (Premium Users Only)
**Stripe Payment Integration**
- **Secure Card Entry**: Stripe-hosted payment form (PCI compliant)
- **Card Details**: Card number, expiration, CVV with security indicators
- **Billing Address**: Optional for Saudi users (defaults to registered phone)
- **Trial Confirmation**: "7 days free, then SAR XX.XX/month" messaging
- **Payment Status**: Inline feedback during processing with loading indicator
- **Error Handling**: Clear error messages with retry mechanism for declined cards

#### Phase 5: Completion & Welcome
**Registration Success Screen**
- Congratulations message in Arabic
- Account summary (email, subscription tier, academic track)
- Quick action buttons:
  - "Complete Profile Picture Upload" (optional)
  - "Take Onboarding Tour" 
  - "Start First Practice"
  - "Go to Dashboard"

### Onboarding Tutorial Slider
**Three-Screen Educational Sequence**
(Displayed after registration completion or available from Settings → Help)

**Screen 1: Full Exam vs. Customized Practice**
- Illustration: Side-by-side exam comparison
- Text: Explanation of integrated exam (امتحان متكامل) vs. targeted practice (تدريب مخصص)
- Call-to-Action: "Next → Learn More"

**Screen 2: Academic Track Optimization**
- Illustration: Student pathway selection visual
- Text: How academic track selection improves recommendations and content alignment
- Track-specific benefits highlight
- Call-to-Action: "Next → Final Step"

**Screen 3: Performance Tracking System**
- Illustration: Dashboard with three-score visualization (اللفظي, كمي, Average)
- Text: Three-percentage system explanation and practice hour tracking
- Achievement and progress visualization benefits
- Call-to-Action: "Start Preparing →" (links to dashboard)

---

## EXAM & PRACTICE CREATION SYSTEM

### Option 1: Full Integrated Exam (امتحان قدرات متكامل)
A complete standardized exam covering both sections:
- **Structure**: Combines Verbal (القسم اللفظي) and Quantitative (القسم الكمي) sections in single exam
- **Duration**: Full exam duration as per standard guidelines
- **Scoring**: No advance options - follows standard evaluation methodology
- **Question Distribution**: 
  - Mixed text and text-with-image formats based on question type
  - Geometry questions include diagrams for clarity
  - Reading comprehension includes full passage text
- **Purpose**: Simulate actual exam conditions and assess overall aptitude level
- **Access**: 
  - Free Plan: 3 attempt per week maximum
  - Premium Plan: Unlimited attempts
- **Subscription Requirements**: Enforced at exam launch - upgrade prompt for free users exceeding limit

### Option 2: Customized Practice (تدريب مخصص)
Targeted practice sessions with advanced configuration options:

**Step 1: Section Selection**
User must select one or both sections:
- القسم اللفظي (Verbal Section)
- القسم الكمي (Quantitative Section)

**Step 2: Category Selection**
Under each selected section, user chooses one or more categories:

**Quantitative Section (القسم الكمي) Categories:**
- العمليات الأساسية (Basic Operations)
- قسم الهندسة (Geometry) - *includes image-based questions*
- قسم الأسس والجذور (Roots & Exponents)

**Verbal Section (القسم اللفظي) Categories:**
- التناظر اللفظي (Analogies)
- إكمال الجمل (Sentence Completion)
- الخطأ السياقي (Contextual Error)
- المفردة الشاذة (Odd Word Out)
- استيعاب المقروء (Reading Comprehension) - *text-only format*

**Step 3: Difficulty Level & Question Count**
- Select difficulty level: Easy (سهل), Medium (متوسط), Hard (صعب)
- Specify question count:
  - Free Plan: Maximum 5 questions per practice
  - Premium Plan: 5, 10, 20, 30, custom up to 100 questions
- Practice session generates dynamically based on selections with appropriate image inclusion

**Step 4: Subscription Verification**
- Free users attempting >5 questions: Upgrade prompt with feature highlight
- Paid users: Direct practice generation without restrictions
- Trial users: Full access with "subscription ends in X days" reminder

---

## PERFORMANCE EVALUATION & SCORING SYSTEM

### Full Integrated Exam Results
Results include three distinct percentage scores:
1. **اللفظي Score (Verbal)**: Percentage for verbal section performance
2. **الكمي Score (Quantitative)**: Percentage for quantitative section performance
3. **Overall Average**: Combined average of both section scores

**Calculation Method**:
- Each section scored independently (0-100%)
- Overall Average = (اللفظي% + الكمي%) / 2
- Weighted scoring available for premium analytics

**Result Display Locations:**
- Exam result screen (immediate feedback upon completion)
- User profile dashboard (persistent tracking of last full exam)
- General profile analytics (historical trends and comparisons)
- Performance export report (premium feature)

**Academic Track Consideration:**
- Scientific track users: Quantitative section weighted slightly higher in recommendations
- Literary track users: Verbal section weighted slightly higher in recommendations
- Overall score remains unbiased calculation

### Customized Practice Results
- **Single Percentage Score**: Overall performance percentage for practice session
- **Performance Impact**: Practice results do NOT affect overall user percentages (which are based solely on full exams)
- **Practice Hours Increment**: Each completed practice session increments total user practice hours counter
  - Free Plan: Practice hours tracked but limited visibility (full tracking in premium)
  - Premium Plan: Full practice hour analytics and trends
- **Data Persistence**: Practice history tracked separately for motivation and engagement metrics
- **Category Performance**: Per-category breakdown showing strength in selected categories
- **Comparative Metrics**: 
  - Free Plan: Current session percentage only
  - Premium Plan: Historical average for same category, trend indicators, peer percentile (anonymized)

---

## RESULT SCREENS & ANALYTICS

### Full Exam Result Screen
Displays comprehensive exam analysis:
- Three section percentages (اللفظي, كمي, Overall Average) prominently displayed with visual progress indicators
- **Color Coding**:
  - Excellent (90-100%): Muted Gold (#D4AF37)
  - Good (75-89%): Saudi Deep Green (#1E5631)
  - Average (60-74%): Warm Light Grey (#F9FAFB)
  - Needs Improvement (<60%): Warm tone indicator
  
- **Strength Points**: 
  - Top 3 categories where user performed above personal average
  - Badge display with percentage for each strength
  - Encouragement messaging

- **Weakness Points**: 
  - Top 3 categories performing below personal average
  - Visual differentiation from strength points
  - Identified as "Focus Areas"

- **Improvement Advice**: 
  - Personalized recommendations based on performance patterns
  - Specific category-focused practice suggestions
  - Time allocation recommendations for weak categories

- **Question Performance Breakdown**:
  - Per-question review summary (questions attempted, correct, incorrect, skipped)
  - Time analysis (average time per question, total exam duration)

- **Action Cards**: 
  - Primary: "Take Another Exam" button (Saudi Deep Green, #1E5631)
  - Secondary: "Practice Specific Categories" button (links to customized practice with weak areas pre-selected)
  - Tertiary: "Review Question Details" button (navigates to question review screen)

### Practice Session Result Screen
Displays focused practice analytics:
- Single percentage score for practice session (large, prominent display)
- Selected categories confirmation (verified practice scope)
- **Strength Points**: 
  - Well-performed question categories within practice scope
  - Per-category breakdown with percentages
  
- **Weakness Points**: 
  - Categories showing lower performance
  - Specific question types within categories for precision targeting

- **Improvement Advice**: 
  - Targeted suggestions for selected practice categories
  - Related full exam sections for comprehensive learning
  - Difficulty increase recommendation if score exceeds 85%
  - Difficulty decrease recommendation if score below 50%

- **Time Metrics**:
  - Average time per question
  - Comparison to benchmark time (if premium user)
  
- **Action Cards**:
  - Primary: "Take Another Practice" button (Saudi Deep Green)
 
