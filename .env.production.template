# ===========================================
# Tafawoq Production Environment Configuration
# ===========================================
# Copy this file and fill in your production values
# Add these variables to your Vercel dashboard
# DO NOT commit actual .env.production with secrets to version control

# ===========================================
# Supabase Configuration (REQUIRED)
# ===========================================
# Get from Supabase Dashboard → Project Settings → API
# Production project URL and keys
NEXT_PUBLIC_SUPABASE_URL=https://your-production-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGc...your-production-anon-key
SUPABASE_SERVICE_ROLE_KEY=eyJhbGc...your-production-service-role-key

# ===========================================
# Stripe Configuration (REQUIRED)
# ===========================================
# Get from Stripe Dashboard → Developers → API keys
# IMPORTANT: Use LIVE keys for production (pk_live_, sk_live_)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your-publishable-key-here
STRIPE_SECRET_KEY=sk_live_your-secret-key-here

# Premium subscription price ID (from Stripe Dashboard → Products)
# Format: price_xxxxx (get from your 49 SAR/month product)
STRIPE_PREMIUM_PRICE_ID=price_your-premium-price-id

# Webhook signing secret (GET THIS AFTER DEPLOYMENT)
# Steps:
# 1. Deploy to Vercel first
# 2. Create webhook in Stripe Dashboard → Developers → Webhooks
# 3. URL: https://your-domain.vercel.app/api/webhooks/stripe
# 4. Copy the signing secret (whsec_...)
# 5. Add this variable to Vercel
# 6. Redeploy
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# ===========================================
# Anthropic Claude API (REQUIRED - Critical for Exam Generation)
# ===========================================
# Get from Anthropic Console → API Keys
# This is the PRIMARY AI service for question generation
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here

# ===========================================
# Google Gemini API (OPTIONAL - Fallback)
# ===========================================
# Get from Google AI Studio: https://aistudio.google.com
# Used as fallback if Anthropic API fails or hits rate limits
GEMINI_API_KEY=your-gemini-api-key-here

# ===========================================
# Resend Email Service (REQUIRED for Contact Form)
# ===========================================
# Get from Resend Dashboard → API Keys
# Free tier: 100 emails/day
RESEND_API_KEY=re_your-api-key-here

# ===========================================
# Sentry Error Tracking (RECOMMENDED)
# ===========================================
# Get from Sentry Project Settings
# Free tier: 5K errors/month
NEXT_PUBLIC_SENTRY_DSN=https://your-dsn@sentry.io/your-project-id
SENTRY_AUTH_TOKEN=your-sentry-auth-token-here
SENTRY_ORG=your-sentry-org-name
SENTRY_PROJECT=tafawoq

# ===========================================
# Application Configuration (REQUIRED)
# ===========================================
# Production URL (update after domain setup)
# Examples:
# - Vercel default: https://your-project.vercel.app
# - Custom domain: https://tafawoq.com
NEXT_PUBLIC_APP_URL=https://your-production-domain.com

# Environment (always 'production' for live deployment)
NODE_ENV=production

# ===========================================
# AI Batch Generation Configuration (OPTIONAL)
# ===========================================
# Fine-tune AI question generation batch sizes
# Leave commented to use defaults (10, 5, 0.7)

# EXAM_BATCH_SIZE=10
# PRACTICE_BATCH_SIZE=5
# PREFETCH_THRESHOLD=0.7

# ===========================================
# Maintenance Mode (OPTIONAL)
# ===========================================
# Set to 'true' to enable maintenance mode
# MAINTENANCE_MODE_DEFAULT=false

# ===========================================
# DEPLOYMENT CHECKLIST
# ===========================================
# Before deploying:
# ✅ All REQUIRED variables filled in above
# ✅ Stripe Premium product created (49 SAR/month)
# ✅ Supabase production database has all migrations applied
# ✅ Sentry project created and configured
#
# After first deployment:
# ✅ Create Stripe webhook endpoint
# ✅ Add STRIPE_WEBHOOK_SECRET to Vercel
# ✅ Enable Google OAuth in Supabase Dashboard
# ✅ Update Google OAuth redirect URIs
# ✅ Test all critical flows
#
# See DEPLOYMENT_GUIDE.md for detailed instructions
